amends ".../Pipelaner.pkl"

import ".../source/Components.pkl"
import ".../source/input/Inputs.pkl"
import ".../source/transform/Mappers.pkl"
import ".../source/sink/Sinks.pkl"

pipelines {
  new Components.Pipeline {
    name = "test-pipeline"
    inputs {
      new Inputs.GenInt {
        name = "gen_int"
        count = 5
      }
    }
    maps {
      new Mappers.Mul {
        name = "test_mul"
        inputs {
          "gen_int"
        }
        mul = 10
      }
    }
    sinks {
      new Sinks.Console {
        name = "test_pipelane_console"
        inputs {
          "test_mul"
        }
      }
    }
  }
}

settings {
  logger {
    logLevel = "info"
  }
  healthCheck {
    enable = false
    host = "127.0.0.1"
    port = 8080
  }
  metrics {
    enable = false
    host = "127.0.0.1"
    port = 8082
  }
}