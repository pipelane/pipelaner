@go.Package { name = "github.com/pipelane/pipelaner/gen/source/common" }
module com.pipelaner.source.common

import "package://pkg.pkl-lang.org/pkl-go/pkl.golang@0.9.0#/go.pkl"

typealias SASLMechanism = "SCRAM-SHA-512"|"SCRAM-SHA-256"

class KafkaAuth {
  saslMechanism: SASLMechanism
  saslUsername: String(!isEmpty)
  saslPassword: String(!isEmpty)
}

class Kafka {
  saslAuth: KafkaAuth?
  brokers: Listing<String>(length > 0)
  version: String?
  topics: Listing<String>(length > 0)
}

class TLSConfig {
  certFile: String(!isEmpty)
  keyFile: String(!isEmpty)
}

class Pipelaner {
  host: String = "localhost"
  port: UInt(this > 0)
  tls: TLSConfig?
}